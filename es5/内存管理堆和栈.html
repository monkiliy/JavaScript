<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>内存管理</title>
</head>
<body>
    <script>
        //第一类
        var a = b = 1;
        console.log("a: "+ a + 'b: '+ b);
        //第二类
        a = {n : 1};
        a.x = a = {n:2};
        console.log("a.x: " + a.x + 'a: '+ a);
        //理解
        a = {n : 1};
        b = a;
        a.x = a = {n:2};
        console.log("a.x: " + a.x + 'a: '+ a + 'b: ' + b);

        /* 申明变量后，如是字面常量就存储在内存空间小的栈中直接存储，如是对象，数组等非字面常量，就存储在堆中，在栈中存储堆内存的地址，指向堆。

        var a = b = 1；
        赋值过程：从左到右，先把b值赋给a，b值待定，找b的值，b = 1；所以a等于b的值，a 等于 1；

        var a = {n ：1}；
        var b = a；
        a.x = a = {n ：2}；
        过程：
        a = {n ：1} ：a 开辟堆 指向 {n ：1}；
        b = a ：b 指向堆 {n：1}；
        a.x = a ：待定，因为a正等待着赋值；
        a = {n：2} ：a 指向堆{n：2}；
        然后 a赋值给a.x ：a.x指向堆{n：2}；
        此时第一个堆{n：1}添加一个x属性保留堆{n：2}的地址指向{n；2}；所以第一个堆为{n：1，x：{n：2}}；
        所以b为多少呢？是{n：1}吗？不是 b指向堆1 所以b为{n：1，x：{n：2}}； */

    </script>
</body>
</html>